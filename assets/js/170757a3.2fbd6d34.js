"use strict";(self.webpackChunkcogment_doc=self.webpackChunkcogment_doc||[]).push([[63],{3905:function(e,t,n){n.d(t,{Zo:function(){return m},kt:function(){return f}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},m=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),d=p(n),f=a,h=d["".concat(s,".").concat(f)]||d[f]||c[f]||i;return n?r.createElement(h,o(o({ref:t},m),{},{components:n})):r.createElement(h,o({ref:t},m))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var p=2;p<i;p++)o[p]=n[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},7189:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return p},toc:function(){return m},default:function(){return d}});var r=n(7462),a=n(3366),i=(n(7294),n(3905)),o=["components"],l={},s="Trial Parameters",p={unversionedId:"cogment/cogment-api-reference/parameters",id:"cogment/cogment-api-reference/parameters",title:"Trial Parameters",description:"The trial parameters are a set of parameters that define the details of a trial. They are generated from the pre-trial hooks and/or from the default parameters provided to the Orchestrator.",source:"@site/docs/cogment/cogment-api-reference/parameters.md",sourceDirName:"cogment/cogment-api-reference",slug:"/cogment/cogment-api-reference/parameters",permalink:"/docs/cogment/cogment-api-reference/parameters",tags:[],version:"current",lastUpdatedAt:1645720139,formattedLastUpdatedAt:"2/24/2022",frontMatter:{},sidebar:"docSidebar",previous:{title:"Javascript SDK",permalink:"/docs/cogment/cogment-api-reference/javascript"},next:{title:"Python SDK",permalink:"/docs/cogment/cogment-api-reference/python"}},m=[{value:"Parameter file",id:"parameter-file",children:[],level:2},{value:"Parameters and pre-trial hooks",id:"parameters-and-pre-trial-hooks",children:[],level:2}],c={toc:m};function d(e){var t=e.components,n=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"trial-parameters"},"Trial Parameters"),(0,i.kt)("p",null,"The trial parameters are a set of parameters that define the details of a trial. They are generated from the pre-trial hooks and/or from the default parameters provided to the Orchestrator."),(0,i.kt)("h2",{id:"parameter-file"},"Parameter file"),(0,i.kt)("p",null,"The parameter file serves to initialize the Orchestrator default parameters. It is able to set all parameters for trials except the config protobuf messages (defined in the spec file). The config messages can only be set by the pre-trial hooks, but these configs are not relevant for simple projects without pre-trial hooks."),(0,i.kt)("p",null,"The parameters in this file be used if no pre-trial hooks are defined. And if hooks are defined, they will be sent to the first hook as initial parameters to be updated by the hooks."),(0,i.kt)("p",null,"The file uses the YAML configuration language. It consists of one YAML section called ",(0,i.kt)("a",{parentName:"p",href:"#trial-params"},"trial_params"),". Any other section will be ignored."),(0,i.kt)("p",null,"The section defines the default trial parameters. The final parameters are set by the pre-trial hooks (if any are defined).\nThese parameters are:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"max_steps"),": The maximum number of time steps (ticks) that the trial will run before terminating. If 0, the trial will not be auto terminated (the environment and a Controller can still terminate the trial). If not provided, a default of 0 will be used."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"max_inactivity"),": The number of seconds of inactivity after which a trial will be terminated. If 0, the trial will not be terminated because of inactivity. If not provided, a default of 30 seconds will be used."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"datalog"),": List of properties related to the data logger. If this section is not present, data logging is disabled.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"endpoint"),": The URL where the datalogger gRPC server resides."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"exclude_fields"),": List of fields to exclude from the data to send for logging"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"environment"),": List of properties for the environment",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"name"),': The name of the environment (defaults to "env" if not provided)'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"endpoint"),": The URL where the environment gRPC server resides"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"implementation"),": The name of the implementation to be used for this instance of the environment. This must match an implementation that is defined at the endpoint. If not defined, an arbitraary implementation will be chosen at runtime"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"actors"),": List of actor properties. The number of actors may not be suited for all trials.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"name"),": The name of this actor (i.e. name of the specific instance of the actor class)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"actor_class"),": The name of the actor class. This is specific to a type of trial and must match values in the corresponding spec file."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"endpoint"),": The URL where the actor gRPC server resides. If this is ",(0,i.kt)("inlineCode",{parentName:"li"},"cogment://client"),", the actor will connect as a client (the Orchestrator being the server in this case)."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"implementation"),": The name of the implementation to be used for this actor instance. This must match an implementation that is defined at the endpoint. If not defined, an arbitraary implementation will be chosen at runtime.")))),(0,i.kt)("p",null,"E.g.:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"trial_params:\n    max_steps: 1000\n    max_inactivity: 5 # seconds\n\n    datalog:\n        endpoint: grpc://logserver:9000\n        exclude_fields: [messages, actions]\n\n    environment:\n        name: Arena\n        endpoint: grpc://env:9000\n        implementation: simple\n\n    actors:\n        - name: Alice\n          actor_class: BigPlayer\n          endpoint: grpc://bp1:9000\n          implementation:\n        - name: Bob\n          actor_class: BigPlayer\n          endpoint: grpc://bp2:9000\n          implementation: Test\n        - name: Carol\n          actor_class: SmallPlayer\n          endpoint: grpc://sp:9000\n          implementation: DQN_Hotel3\n        - name: Dave\n          actor_class: SmallPlayer\n          endpoint: grpc://sp:9000\n          implementation: DNN_Karma3.1.17\n        - name: Olivia\n          actor_class: Referee\n          endpoint: cogment://client\n          implementation: Standard\n")),(0,i.kt)("h2",{id:"parameters-and-pre-trial-hooks"},"Parameters and pre-trial hooks"),(0,i.kt)("p",null,"Pre-trial hooks are gRPC services that will be called to set up the parameters for a new trial. Multiple hooks can be defined and they will all be called in order, in a pipeline fashion (i.e. the output of one becomes the input of the next). The first hook service to be called will receive the default parameters, in addition with the config given to the ",(0,i.kt)("inlineCode",{parentName:"p"},"start_trial")," function call. The output of the last hook is used to start the new trial. The response of the last hook will be waited on before the trial starts."),(0,i.kt)("p",null,"The hooks will be called to update or generate all the parameter data (presented here) in addition to the configurations for the environment and the actors (if needed)."),(0,i.kt)("p",null,"Pre-trial hooks are defined on the command line (or an environment variable) when starting the Orchestrator."))}d.isMDXComponent=!0}}]);