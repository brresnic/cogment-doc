<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-146998765-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">Python SDK | Cogment</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://docs.cogment.ai/img/cogment_logo_meta.png"><meta data-react-helmet="true" name="twitter:image" content="https://docs.cogment.ai/img/cogment_logo_meta.png"><meta data-react-helmet="true" property="og:url" content="https://docs.cogment.ai/docs/cogment/cogment-api-reference/python"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Python SDK | Cogment"><meta data-react-helmet="true" name="description" content="The Python SDK is designed to run concurently and asynchronously using the Python asyncio library. As such, it should be run in an asyncio.Task."><meta data-react-helmet="true" property="og:description" content="The Python SDK is designed to run concurently and asynchronously using the Python asyncio library. As such, it should be run in an asyncio.Task."><link data-react-helmet="true" rel="icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://docs.cogment.ai/docs/cogment/cogment-api-reference/python"><link data-react-helmet="true" rel="alternate" href="https://docs.cogment.ai/docs/cogment/cogment-api-reference/python" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.cogment.ai/docs/cogment/cogment-api-reference/python" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.ac6ee8e1.css">
<link rel="preload" href="/assets/js/runtime~main.22079133.js" as="script">
<link rel="preload" href="/assets/js/main.b8fbe67c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/cogment_logo.svg" alt="Cogment" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/cogment_logo.svg" alt="Cogment" class="themedImage_W2Cr themedImage--dark_oUvU"></div></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link navbar__link--active" href="/docs/introduction/overview">Documentation</a><a href="https://github.com/cogment" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/support/community-channels">Community</a><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/introduction/overview">Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/support/community-channels">Support</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/concepts/core-concepts">Concepts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/core-concepts">Core Concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/glossary">Glossary</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/docs/cogment/cogment-api-guide">Cogment API</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cogment/cogment-api-guide">API Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" tabindex="0" href="/docs/cogment/tutorial">Tutorial</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorial&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" tabindex="0" href="/docs/cogment/cogment-api-reference/cogment-v2-changes">API Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cogment/cogment-api-reference/cogment-v2-changes">Cogment 2.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cogment/cogment-api-reference/cogment-yaml">Spec File</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cogment/cogment-api-reference/javascript">Javascript SDK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cogment/cogment-api-reference/parameters">Trial Parameters</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/cogment/cogment-api-reference/python">Python SDK</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/docs/cogment/cogment-low-level-api-guide/grpc">Low Level API Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" tabindex="0" href="/docs/cogment/implementation-recipes">Implementation Recipes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Implementation Recipes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/cogment-components/cli">Cogment Components</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cogment-components/cli">CLI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cogment-components/orchestrator">Orchestrator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cogment-components/model-registry">Model Registry</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cogment-components/trial-datastore">Trial Datastore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cogment-components/dashboard">Metrics and Dashboard</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/license">Apache License</a></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Python SDK</h1><p>The Python SDK is designed to run concurently and asynchronously using the Python <code>asyncio</code> library. As such, it should be run in an <code>asyncio.Task</code>.</p><p>E.g.</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">asyncio</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MyMainFunction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="installation">Installation<a class="hash-link" href="#installation" title="Direct link to heading">​</a></h2><p>The simplest way to install the python SDK is to just install it using pip: <code>pip install cogment</code>.</p><p>And to install the generator (for <code>cog_settings.py</code>) it is done similarly with pip: <code>pip install cogment[generate]</code>. Note that the generator is not installed by default when installing the Cogment SDK, it must be explcitly installed.</p><p>The basic requirement is Python 3.7.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="general-usage">General usage<a class="hash-link" href="#general-usage" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="trial-specifications">Trial Specifications<a class="hash-link" href="#trial-specifications" title="Direct link to heading">​</a></h3><p>The specifications of a trial type are contained in a <a href="/docs/cogment/cogment-api-reference/cogment-yaml">spec file</a> and the imported files defined in the spec. This file is typically named <code>cogment.yaml</code>.</p><p>For example, an <a href="/docs/concepts/glossary#actor-class">actor class</a> is defined by its required <a href="/docs/concepts/glossary#observation-space">observation space</a> and <a href="/docs/concepts/glossary#action-space">action space</a>.</p><p>These &quot;spaces&quot; are defined by using protobuf message types (from the imported files). <a href="/docs/concepts/glossary#observation">Observations</a> and <a href="/docs/concepts/glossary#action">actions</a> will simply be instances of the appropriate type.</p><p>Messages and feedback user data don&#x27;t have a set type, they can be any type of protobuf message as long as the receiver can manage that type (i.e. the object received is an instance of <code>google.protobuf.Any</code> and the contained type should be checked against known types before handling). The type is determined by the provided message from the originator.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="trial-parameters">Trial Parameters<a class="hash-link" href="#trial-parameters" title="Direct link to heading">​</a></h3><p>The trial <a href="/docs/cogment/cogment-api-reference/parameters">parameters</a> either come from the default parameters provided to the Orchestrator on startup, or they are dynamically generated/updated by the pre-trial hooks (which are provided to the Orchestrator on startup). Or both, since any default parameters are initially provided to the first pre-trial hook.</p><p>The parameters are mostly indepedent of the spec file (cogment.yaml), except that the active actors listed in the parameters must have their actor class match an actor class defined in the spec file.</p><p>Below, when we refer to the trial parameters, we mean the final parameters after any pre-trial hooks.</p><p>Note that environment config and actor config can only be provided by pre-trial hooks.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="compiling-the-spec-file-into-cog_settingspy">Compiling the spec file into cog_settings.py<a class="hash-link" href="#compiling-the-spec-file-into-cog_settingspy" title="Direct link to heading">​</a></h3><p>In order to use the specifications within python scripts, the spec file needs to be compiled into python modules. This is done by the Python SDK generator (see <!-- -->[#installation]<!-- -->).</p><p>The generator is used this way:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$ python3 -m cogment.generate --spec cogment.yaml --output ./cog_settings.py</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>This will create a <code>cog_settings.py</code> module in the current directory (<code>--output ./</code>). The generator will also compile the imported <code>*.proto</code> files into python modules that will be saved in the same location as the specified output file (<code>cog_settings.py</code>) and they will be named according to their proto names (<code>*_pb2.py</code>).</p><p>The <code>cog_settings.py</code> Python module is required by all API entry points.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="top-level-import">Top-level import<a class="hash-link" href="#top-level-import" title="Direct link to heading">​</a></h3><p>The main module of the Cogment SDK is <code>cogment</code>. But all cogment scripts need to start with a <code>cogment.Context</code>, which also requires the generated module <code>cog_settings</code> (project specific definitions created from the spec file).</p><p>If one needs to create a <code>cogment.LogParams</code> from scratch, the <code>cog_settings</code> module is also required.</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> cog_settings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> cogment</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="class-cogmentcontext">class cogment.Context<a class="hash-link" href="#class-cogmentcontext" title="Direct link to heading">​</a></h2><p>Class to setup and run all the different aspects of trials.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="__init__self-user_id-cog_settings-prometheus_registryprometheus_clientcoreregistry"><code>__init__(self, user_id, cog_settings, prometheus_registry=prometheus_client.core.REGISTRY)</code><a class="hash-link" href="#__init__self-user_id-cog_settings-prometheus_registryprometheus_clientcoreregistry" title="Direct link to heading">​</a></h3><p>Parameters:</p><ul><li><code>user_id</code>: <em>str</em> - Identifier for the user of this context.</li><li><code>cog_settings</code>: <em>module</em> - Settings module associated with trials that will be run (<a href="#cog_settings.py">cog_settings</a> namespace).</li><li><code>prometheus_registry</code>: <em>prometheus_client.core.CollectorRegistry instance</em> - Prometheus registry that&#x27;ll be used by the Cogment metrics in this context. Can be set to <code>None</code> to completely deactivate them. The default value is Prometheus&#x27; default global registry.</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="async-serve_all_registeredself-served_endpoint-prometheus_port--8000"><code>async serve_all_registered(self, served_endpoint, prometheus_port = 8000)</code><a class="hash-link" href="#async-serve_all_registeredself-served_endpoint-prometheus_port--8000" title="Direct link to heading">​</a></h3><p>Method to start and run the communication server for the registered components (environment, actor, prehook, datalog). This coroutine will end when all activity has stopped.</p><p>Parameters:</p><ul><li><code>served_endpoint</code>: <em>ServedEndpoint instance</em> - Details of the connection for the served components.</li><li><code>prometheus_port</code>: <em>int</em> - TCP/IP port number for Prometheus. Can be set to None to deactivate the Prometheus metrics server.</li></ul><p>Return: None</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="get_controllerself-endpoint"><code>get_controller(self, endpoint)</code><a class="hash-link" href="#get_controllerself-endpoint" title="Direct link to heading">​</a></h3><p>Method to get a controller instance to manage trials (start, stop, inquire, etc).</p><p>Parameters:</p><ul><li><code>endpoint</code>: <em>Endpoint instance</em> - Details of the connection to the Orchestrator.</li></ul><p>Return: <em>Controller instance</em> - An instance of the Controller class used to manage trials.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="async-join_trialself-trial_id-endpoint-impl_namenone-actor_namenone-actor_classnone"><code>async join_trial(self, trial_id, endpoint, impl_name=None, actor_name=None, actor_class=None)</code><a class="hash-link" href="#async-join_trialself-trial_id-endpoint-impl_namenone-actor_namenone-actor_classnone" title="Direct link to heading">​</a></h3><p>Method for an actor to asynchronously join an existing trial. This task will normally end after the user implementation has exited.</p><p>Parameters:</p><ul><li><code>trial_id</code>: <em>str</em> - The UUID of the trial to join.</li><li><code>endpoint</code>: <em>Endpoint instance</em> - Details of the connection to the Orchestrator.</li><li><code>impl_name</code>: <em>str</em> - <strong>deprecated</strong></li><li><code>actor_name</code>: <em>str</em> - Name of the actor joining the trial. If <code>None</code>, <code>actor_class</code> will be used to find the actor to join. The name must match an active actor in the trial as found in the trial parameters in the sections <code>trial_params:actors:name</code> with <code>trial_params:actors:endpoint</code> set to &quot;cogment://client&quot;.</li><li><code>actor_class</code>: <em>str</em> - The class of actor to join the trial. If <code>None</code>, <code>actor_name</code> will be used to find the actor to join. The class must match an active actor in the trial as found in the trial parameters in the sections <code>trial_params:actors:actor_class</code> with <code>trial_params:actors:endpoint</code> set to &quot;cogment://client&quot;.</li></ul><p>Return: None</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="register_environmentself-impl-impl_name--default"><code>register_environment(self, impl, impl_name = &quot;default&quot;)</code><a class="hash-link" href="#register_environmentself-impl-impl_name--default" title="Direct link to heading">​</a></h3><p>Method to register the asynchronous callback function that will run an environment for a trial.</p><p>Parameters:</p><ul><li><code>impl</code>: <em>async function(EnvironmentSession instance)</em> - Callback function to be registered.</li><li><code>impl_name</code>: <em>str</em> - Name for the environment being run by the given callback function.</li></ul><p>Return: None</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="register_actorself-impl-impl_name-actor_classes"><code>register_actor(self, impl, impl_name, actor_classes=[])</code><a class="hash-link" href="#register_actorself-impl-impl_name-actor_classes" title="Direct link to heading">​</a></h3><p>Method to register the asynchronous callback function that will run an actor for a trial.</p><p>Parameters:</p><ul><li><code>impl</code>: <em>async func(ActorSession instance)</em> - Callback function to be registered.</li><li><code>impl_name</code>: <em>str</em> - Name for the actor implementation being run by the given callback function.</li><li><code>actor_classes</code>: <em>list<!-- -->[str]</em> - The actor class name(s) that can be run by the given callback function. The possible names are specified in the spec file under section <code>actor_classes:name</code>. If the list is empty, this implementation can run any actor class.</li></ul><p>Return: None</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="register_pre_trial_hookself-impl"><code>register_pre_trial_hook(self, impl)</code><a class="hash-link" href="#register_pre_trial_hookself-impl" title="Direct link to heading">​</a></h3><p>Method to register an asynchronous callback function that will be called before a trial is started. Only one such function can be registered. But there may be multiple hook services for an Orchestrator. They are provided to the Orchestrator at startup. All hooks registered with the Orchestrator will be called in a pipeline fashion before each new trial.</p><p>Parameters:</p><ul><li><code>impl</code>: <em>async func(PrehookSession instance)</em> - Callback function to be registered. The <code>PrehookSession</code> instance member data should be changed as needed for the new trial before returning from this function.</li></ul><p>Return: None</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="register_datalogself-impl"><code>register_datalog(self, impl)</code><a class="hash-link" href="#register_datalogself-impl" title="Direct link to heading">​</a></h3><p>Method to register an asynchronous callback function that will be called for each trial to serve log requests. Only one such function can be registered. This service is addressed in the trial parameters in the <code>datalog</code> section.</p><p>Parameters:</p><ul><li><code>impl</code>: <em>async func(DatalogSession instance)</em> - Callback function to be registered</li></ul><p>Return: None</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="class-controller">class Controller<a class="hash-link" href="#class-controller" title="Direct link to heading">​</a></h2><p>Class containing data and methods to control and manage trials.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="async-start_trialself-trial_confignone-trial_id_requestednone"><code>async start_trial(self, trial_config=None, trial_id_requested=None)</code><a class="hash-link" href="#async-start_trialself-trial_confignone-trial_id_requestednone" title="Direct link to heading">​</a></h3><p>Method to start a new trial. The parameters of the trial will be set by the pre-trial hooks (registered in <code>cogment.Context</code>), and the hooks will receive the provided trial config.</p><p>Parameters:</p><ul><li><code>trial_config</code>: <em>protobuf class instance</em> - Configuration for the trial. The type is specified in the spec file under the section <code>trial:config_type</code>. Can be <code>None</code> if no configuration is provided. This is provided to the first pre-trial hook.</li><li><code>trial_id_requested</code>: <em>str</em> - The trial identifier requested for the new trial. It must be unique among all active trials and a limited set of the latest ended trials (this list of trials can be retrieved with <code>get_trial_info</code> or <code>watch_trial</code>). If provided, the Orchestrator will try to use this trial_id, otherwise, a UUID will be created.</li></ul><p>Return: <em>str</em> - The newly started trial ID. An empty string if the trial was not started due to a non-unique ID.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="terminate_trialself-trial_ids-hardfalse"><code>terminate_trial(self, trial_ids, hard=False)</code><a class="hash-link" href="#terminate_trialself-trial_ids-hardfalse" title="Direct link to heading">​</a></h3><p>Method to request the end of a trial.</p><p>Parameters:</p><ul><li><code>trial_ids</code>: <em>list<!-- -->[str]</em> - The trial ID(s) to request to terminate. There must be at least one ID.</li><li><code>hard</code>: <em>bool</em> - If <code>True</code>, the termination will be forced and not wait for any action or observation. If <code>False</code>, the trial will wait for the next tick, to end gracefully (i.e. wait for the next full set of actions and response observations).</li></ul><p>Return: None</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="async-get_trial_infoself-trial_ids"><code>async get_trial_info(self, trial_ids)</code><a class="hash-link" href="#async-get_trial_infoself-trial_ids" title="Direct link to heading">​</a></h3><p>Method to get information about a trial.</p><p>Parameters:</p><ul><li><code>trial_ids</code>: <em>list<!-- -->[str]</em> - The trial ID(s) from which to request information. If no ID is provided, returns information about all trials. Note that ended trials may only appear for a short time in this list after they have ended.</li></ul><p>Return: <em>list<!-- -->[TrialInfo instance]</em> - List of trial information, one per trial. Can be empty if no trial matches.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="async-watch_trialsself-trial_state_filters"><code>async watch_trials(self, trial_state_filters=[])</code><a class="hash-link" href="#async-watch_trialsself-trial_state_filters" title="Direct link to heading">​</a></h3><p>Generator method to iterate, in real-time, through all trial states matching the filters. When called, it will first iterate over the current states matching the filters, for all trials. Afterwards, it will iterate in real-time over the matching states as they change.</p><p>Parameters:</p><ul><li><code>trial_state_filters</code>: <em>list<!-- -->[cogment.TrialState]</em> - List of enum values from <code>cogment.TrialState</code> for which we are interested in receiving state changes.</li></ul><p>Return: <em>generator(TrialInfo instance)</em> - A generator for the state changes that arrive. The <code>TrialInfo</code> received here only contains the trial ID and the state.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="async-get_actorsself-trial_id"><code>async get_actors(self, trial_id)</code><a class="hash-link" href="#async-get_actorsself-trial_id" title="Direct link to heading">​</a></h3><p>Method to get the list of configured actors in a trial.</p><p>Parameters:</p><ul><li><code>trial_id</code>: <em>str</em> - The trial ID from which to request the list of actors.</li></ul><p>Return: <em>list<!-- -->[ActorInfo instance]</em> - List of actors configured in this trial.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="async-get_remote_versionsself"><code>async get_remote_versions(self)</code><a class="hash-link" href="#async-get_remote_versionsself" title="Direct link to heading">​</a></h3><p>Method to get the versions from the remote Orchestrator.</p><p>Parameters: None</p><p>Return: <em>dict</em> - The key of the dictionary is the name of the component (<em>str</em>), and the value is the version (<em>str</em>).</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="class-session">class Session<a class="hash-link" href="#class-session" title="Direct link to heading">​</a></h2><p>Abstract class that manages aspects of a trial. Contains data and methods common to all sessions .</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="get_trial_idself"><code>get_trial_id(self)</code><a class="hash-link" href="#get_trial_idself" title="Direct link to heading">​</a></h3><p>Method to get the UUID of the trial managed by this session.</p><p>Parameters: None</p><p>Return: <em>str</em> - UUID of the trial.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="get_tick_idself"><code>get_tick_id(self)</code><a class="hash-link" href="#get_tick_idself" title="Direct link to heading">​</a></h3><p>Method to get the current tick id of the trial (i.e. time step).</p><p>Parameters: None</p><p>Return: <em>int</em> - The current tick id.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="is_trial_overself"><code>is_trial_over(self)</code><a class="hash-link" href="#is_trial_overself" title="Direct link to heading">​</a></h3><p>Method to inquire if the current trial has ended.</p><p>Parameters: None</p><p>Return: <em>bool</em> - True if the trial has ended, false otherwise.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="sending_doneself"><code>sending_done(self)</code><a class="hash-link" href="#sending_doneself" title="Direct link to heading">​</a></h3><p>Method to notify the Orchestrator that all data for the trial, from this session, has been sent. This can be called only when the session is ending. When starting the session (see <code>EnvironmentSession</code> and <code>ActorSession</code>), if the <code>auto_done_sending</code> parameter is True, this method should not be called, and if the parameter is False, it MUST be called to end the trial properly.</p><p>Parameters: None</p><p>Return: None</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="add_rewardself-value-confidence-to-tick_id-1-user_datanone"><code>add_reward(self, value, confidence, to, tick_id=-1, user_data=None)</code><a class="hash-link" href="#add_rewardself-value-confidence-to-tick_id-1-user_datanone" title="Direct link to heading">​</a></h3><p>Method to send a reward to one or more actors.</p><p>Parameters:</p><ul><li><code>value</code>: <em>float</em> - Value of the reward. This will be aggregated with other rewards for the same target actor.</li><li><code>confidence</code>: <em>float</em> - Weight of this reward value in determining the final aggregated reward. Should be &gt; 0.</li><li><code>to</code>: <em>list<!-- -->[str]</em> - Target(s) of reward. A list value could be the name of an actor in the trial. Or it could represent a set of actors; A set of actors can be represented with the wildcard character &quot;<code>*</code>&quot; for all actors (of all classes), or &quot;<code>actor_class.*</code>&quot; for all actors of a specific class (the <code>actor_class</code> is the name of the class as specified in the spec file).</li><li><code>tick_id</code>: <em>int</em> - The tick id (time step) for which the reward should be applied. If &quot;-1&quot;, then the reward applies to the current time step.</li><li><code>user_data</code>: <em>protobuf class instance</em> - Extra user data to be sent with the reward. The class can be any protobuf class. It is the responsibility of the receiving actor to manage the class received (packed in a <code>google.protobuf.Any</code>).</li></ul><p>Return: None</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="class-environmentsessionsession">class EnvironmentSession(Session)<a class="hash-link" href="#class-environmentsessionsession" title="Direct link to heading">​</a></h2><p>Abstract class based on <code>Session</code>, containing session data and methods necessary to run an environment for a trial. An instance of this class is passed as an argument to the environment callback function registered with <code>cogment.Context.register_environment</code>.</p><p><code>impl_name</code>: <em>str</em> - Name of the implementation running this environment.</p><p><code>config</code>: <em>protobuf class instance</em> - User configuration received for this environment instance. Can be <code>None</code> if no configuration was provided. The type of the protobuf class is specified in the spec file in the section <code>environment:config_type</code>.</p><p><code>name</code>: <em>str</em> - Name of the environment this instance represents.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="startself-observations--none-auto_done_sendingtrue"><code>start(self, observations = None, auto_done_sending=True)</code><a class="hash-link" href="#startself-observations--none-auto_done_sendingtrue" title="Direct link to heading">​</a></h3><p>Method to report that the environment is starting to run the trial. The method should be called before any other method in the session.</p><p>Parameters:</p><ul><li><p><code>observations</code>: <em>list<!-- -->[tuple(str, protobuf class instance)]</em> - The initial observations from which the environment is starting the trial. This is the same as the parameter for <code>self.produce_observations</code>. If not provided, then the first observation sent with <code>produce_observation</code> will be used to initiate the trial (note that no actions will be received until the first observation is sent).</p></li><li><p><code>auto_done_sending</code>: <em>bool</em> - Controls when to notify the Orchestrator that all data has been sent. If True, the session will automatically send the notification after <code>end</code> is called. If False, the user MUST call <code>sending_done</code> (after <code>end</code>) to end the trial properly.</p></li></ul><p>Return: None</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="async-event_loopself"><code>async event_loop(self)</code><a class="hash-link" href="#async-event_loopself" title="Direct link to heading">​</a></h3><p>Generator method to iterate over all events (actions, messages) as they are received. This will block and wait for an event.
When this generator exits, the callback function (registered with <code>register_environment</code>) should return to end the trial cleanly.
The generator will exit for various reasons indicating the termination of the trial, a loss of communication with the orchestrator, or if the generator is sent &quot;False&quot; (in which case the callback function does not necessarily need to exit).</p><p>Parameters: None</p><p>Return: <em>generator(RecvEvent instance)</em> - A generator for the events that arrive. The <code>RecvEvent</code> instances received from this generator will only contain actions or messages; no observations nor rewards. When receiving actions in the event, the <code>self.produce_observation</code> method is normally used to &quot;reply&quot; (or <code>self.end</code> to end the trial).</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="produce_observationsself-observations"><code>produce_observations(self, observations)</code><a class="hash-link" href="#produce_observationsself-observations" title="Direct link to heading">​</a></h3><p>Method to send observations to actors. If called after receiving an event of type <code>EventType.ENDING</code>, the observation will be consired the final observation (equivalent to calling <code>end()</code>).</p><p>Parameters:</p><ul><li><code>observations</code>: <em>list<!-- -->[tuple(str, protobuf class instance)]</em> - The observations to send to actors. The string in the tuple is the name of the destination actor (or &quot;<!-- -->*<!-- -->&quot; for all actors). The name of the actors can be found in trial parameters under <code>trial_params:actors:name</code>. The protobuf class is the Observation Space for that actor, found in the spec file in the corresponding section <code>actor_classes:observation:space</code>.</li></ul><p>Return: None</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="endself-final_observations"><code>end(self, final_observations)</code><a class="hash-link" href="#endself-final_observations" title="Direct link to heading">​</a></h3><p>Method to report the end of the environment. This will effectively end the trial. Message events can still arrive after this call.</p><p>Parameters:</p><ul><li><code>final_observations</code>: <em>list<!-- -->[tuple(str, protobuf class instance)]</em> - The final observations to send to the actors. This is the same as the parameter for <code>self.produce_observations</code>.</li></ul><p>Return: None</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="get_active_actorsself"><code>get_active_actors(self)</code><a class="hash-link" href="#get_active_actorsself" title="Direct link to heading">​</a></h3><p>Method to get the list of active actors in the trial.</p><p>Parameters: None</p><p>Return: <em>list<!-- -->[ActorInfo instance]</em> - List of active actors and classes involved in this trial.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="send_messageself-payload-to"><code>send_message(self, payload, to)</code><a class="hash-link" href="#send_messageself-payload-to" title="Direct link to heading">​</a></h3><p>Method to send a message related to the current time step (tick id).</p><p>Parameters:</p><ul><li><code>payload</code>: <em>protobuf class instance</em> - The message data to be sent. The class can be any protobuf class. It is the responsibility of the receiving environment to manage the class received (packed in a <code>google.protobuf.Any</code>).</li><li><code>to</code>: <em>list<!-- -->[str]</em> - Targets of feedback. Each value could be the name of an actor in the trial. Or it could represent a set of actors (with wildcards); A set of actors can be represented with the wildcard character &quot;<code>*</code>&quot; for all actors (of all classes), or &quot;<code>actor_class.*</code>&quot; for all actors of a specific class (the <code>actor_class</code> must match one of the classes listed in the trial parameters). Note that the wildcard does not include the environment.</li></ul><p>Return: None</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="class-actorsessionsession">class ActorSession(Session)<a class="hash-link" href="#class-actorsessionsession" title="Direct link to heading">​</a></h2><p>Abstract class based on <code>Session</code>, containing session/trial data and methods necessary to run an actor for a trial. An instance of this class is passed as argument to the actor callback function registered with <code>cogment.Context.register_actor</code>.</p><p><code>class_name</code>: <em>str</em> - Name of the class of actor this instance represents. Specified in the spec file as <code>actor_classes:name</code>.</p><p><code>impl_name</code>: <em>str</em> - Name of the implementation of the actor represented by this instance.</p><p><code>config</code>: <em>protobuf class instance</em> - User configuration received for this actor instance. Can be <code>None</code> is no configuration was provided. The type of the protobuf class is specified in the spec file in the section <code>actor_classes:config_type</code>.</p><p><code>name</code>: <em>str</em> - Name of the actor this instance represents.</p><p><code>env_name</code>: <em>str</em> - Name of the environment running the trial this actor is participating in (used to send messages to the environment).</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="startself-auto_done_sendingtrue"><code>start(self, auto_done_sending=True)</code><a class="hash-link" href="#startself-auto_done_sendingtrue" title="Direct link to heading">​</a></h3><p>Method to start the actor. This method should be called before any other method in the session.</p><p>Parameters:</p><ul><li><code>auto_done_sending</code>: <em>bool</em> - Controls when to notify the Orchestrator that all data has been sent. If True, the session will automatically send the notification after receiving the last observation. If False, the user MUST call <code>sending_done</code> to end the trial properly.</li></ul><p>Return: None</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="async-event_loopself-1"><code>async event_loop(self)</code><a class="hash-link" href="#async-event_loopself-1" title="Direct link to heading">​</a></h3><p>Generator method to iterate over all events (observations, rewards, messages) as they are received. This will block and wait for an event.
When this generator exits, the callback function (registered with <code>register_actor</code>) should return to end the trial cleanly.
The generator will exit for various reasons indicating the end of the trial, a loss of communication with the orchestrator, or if the generator is sent &quot;False&quot;.</p><p>Parameters: None</p><p>Return: <em>generator(RecvEvent instance)</em> - A generator for the events that arrive. The <code>RecvEvent</code> instances received from this generator will not contain actions. When receiving an observation in the event, the <code>self.do_action</code> method is normally used to &quot;reply&quot; (if the event type is <code>EventType.ACTIVE</code>).</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="do_actionself-action"><code>do_action(self, action)</code><a class="hash-link" href="#do_actionself-action" title="Direct link to heading">​</a></h3><p>Method to send actions to the environment.</p><p>Parameters:</p><ul><li><code>action</code>: <em>protobuf class instance</em> - An instance of the action space class specified in the corresponding section <code>actor_classes:action:space</code> of the spec file. If <code>None</code>, then no action space is sent (empty content) and the environment will receive a default initialized action space of the appropriate type.</li></ul><p>Return: None</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="send_messageself-payload-to-1"><code>send_message(self, payload, to)</code><a class="hash-link" href="#send_messageself-payload-to-1" title="Direct link to heading">​</a></h3><p>Method to send a message related to the current time step (tick id).</p><p>Parameters:</p><ul><li><code>payload</code>: <em>protobuf class instance</em> - The message data to be sent. The class can be any protobuf class. It is the responsibility of the receiving actor to manage the class received (packed in a <code>google.protobuf.Any</code>).</li><li><code>to</code>: <em>list<!-- -->[str]</em> - Targets of feedback. Each value could be the name of an actor in the trial, or the name of the environment (from <code>self.env_name</code>). Or it could represent a set of actors (with wildcards); A set of actors can be represented with the wildcard character &quot;<code>*</code>&quot; for all actors (of all classes), or &quot;<code>actor_class.*</code>&quot; for all actors of a specific class (the <code>actor_class</code> must match one of the classes listed in the trial parameters). Note that the wildcard does not include the environment.</li></ul><p>Return: None</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="class-prehooksession">class PrehookSession<a class="hash-link" href="#class-prehooksession" title="Direct link to heading">​</a></h2><p>Abstract class containing trial configuration data to define the specifics of a trial. An instance of this class is passed as argument to the pre-trial hook callback function registered with <code>cogment.Context.register_pre_trial_hook</code>. The first pre-trial hook to be called will receive the default parameters set in the Orchestrator, the following hooks will receive the parameters set by the preceding hooks.</p><p><code>trial_config</code>: <em>protobuf class instance</em> - Configuration for the new trial. The type is specified in the spec file under the section <code>trial:config_type</code>. The first pre-trial hook receives the config that came from the <code>Controller.start_trial()</code> function. If <code>None</code>, no config will be sent to the next pre-trial hook.</p><p><code>trial_max_steps</code>: <em>int</em> - The maximum number of time steps (ticks) that the trial will run before terminating. If 0 (or <code>None</code>), the trial will not be auto terminated (the environment and a Controller can still terminate the trial).</p><p><code>trial_max_inactivity</code>: <em>int</em> - The number of seconds of inactivity after which a trial will be terminated. If 0 (or <code>None</code>), the trial will not be terminated because of inactivity.</p><p><code>datalog_endpoint</code>: <em>str</em> - The URL to connect to the data logger. The protocol must be &quot;grpc&quot;. E.g. &quot;grpc://mydb:9000&quot;. If <code>None</code>, no datalog service will be connected.</p><p><code>datalog_exclude</code>: <em>list<!-- -->[str]</em> - List of fields to exclude from the data to send for logging.</p><p><code>environment_config</code>: <em>protobuf class instance</em> - Configuration for the environment in the new trial. This configuration will be sent to the environment on start. The type is specified in the spec file under the section <code>environment:config_type</code>. If <code>None</code>, no config will be sent to the environment.</p><p><code>environment_endpoint</code>: <em>str</em> - The URL to connect to the environment. The protocol must be &quot;grpc&quot;. E.g. &quot;grpc://myenv:9000&quot;</p><p><code>environment_name</code>: <em>str</em> - The name of the environment.</p><p><code>environment_implementation</code>: <em>str</em> - The name of the implementation to run the environment.</p><p><code>actors</code>: <em>list<!-- -->[dict]</em> - Each item (dictionary) of the list represents an actor. Each actor dictionary contains these key-value pairs:</p><ul><li><code>&quot;name&quot;</code>: <em>str</em> - Name of the actor</li><li><code>&quot;actor_class&quot;</code>: <em>str</em> - The actor class for the actor. This is specific to a type of trial and must match values in the spec file under section <code>actor_classes:name</code>.</li><li><code>&quot;endpoint&quot;</code>: <em>str</em> - The URL to connect to the actor. If, instead of a gRPC URL, the value is &quot;cogment://client&quot;, then this actor will connect in (rather than be connected to), and the actor will need to provide the gRPC URL to connect to the orchestrator.</li><li><code>&quot;implementation&quot;</code>: <em>str</em> - The name of the implementation to run this actor</li><li><code>&quot;config&quot;</code>: <em>protobuf class instance</em> - The configuration data for the actor. The type is specified in the spec file under the section <code>actor_classes:config_type</code> for the corresponding actor. If <code>None</code>, no config will be sent to the actor.</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="get_trial_idself-1"><code>get_trial_id(self)</code><a class="hash-link" href="#get_trial_idself-1" title="Direct link to heading">​</a></h3><p>Method to retrieve the ID of the trial.</p><p>Parameters: None</p><p>Return: <em>str</em> - ID of the trial.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="get_user_idself"><code>get_user_id(self)</code><a class="hash-link" href="#get_user_idself" title="Direct link to heading">​</a></h3><p>Method to retrieve the identifier of the user that started the trial.</p><p>Parameters: None</p><p>Return: <em>str</em> - Identifier of the user that started the trial.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="validateself"><code>validate(self)</code><a class="hash-link" href="#validateself" title="Direct link to heading">​</a></h3><p>Method to validate that the data is valid. This is a superficial check; even if the data validates successfully, there can still be problems with the data. This method should be called if changes have been made to the data members of the class. Exceptions are raised on error.</p><p>Parameters: None</p><p>Return: None</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="class-datalogsession">class DatalogSession<a class="hash-link" href="#class-datalogsession" title="Direct link to heading">​</a></h2><p>Abstract class containing session data and methods necessary to manage the logging of trial run data. An instance of this class is passed as an argument to the datalog callback function registered with <code>cogment.Context.register_datalog</code>.</p><p><code>trial_id</code>: <em>str</em> - UUID of the trial managed by this instance.</p><p><code>user_id</code>: <em>str</em> - Identifier of the user that started the trial.</p><p><code>trial_params</code>: <em>cogment.LogParam instance</em> - Parameters of the trial.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="startself"><code>start(self)</code><a class="hash-link" href="#startself" title="Direct link to heading">​</a></h3><p>Method to start receiving samples.</p><p>Parameters: None</p><p>Return: None</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="get_all_samplesself"><code>get_all_samples(self)</code><a class="hash-link" href="#get_all_samplesself" title="Direct link to heading">​</a></h3><p>Generator method to iterate over all samples as they are received (waiting for each in turn).</p><p>Parameters: None</p><p>Return: <em>generator(cogment.LogSample instance)</em> - A generator for the samples received.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="class-cogmentendpoint">class cogment.Endpoint<a class="hash-link" href="#class-cogmentendpoint" title="Direct link to heading">​</a></h2><p>Class enclosing the details for connecting to an Orchestrator.</p><p><code>url</code>: <em>str</em> - The URL where to connect to the Orchestrator.</p><p><code>private_key</code>: <em>str</em> - To use TLS for the connection, this must be set to the PEM-encoded private key.</p><p><code>root_certificates</code>: <em>str</em> - If using TLS for the connection (i.e. the <code>private_key</code> is not <code>None</code>), this can be set to the PEM-encoded root certificates. If not set and using TLS for the connection, the root certificates will be fetched from the system default location.</p><p><code>certificate_chain</code>: <em>str</em> - If using TLS for the connection, this can be set to the PEM-encoded certificate chain.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="__init__self-url"><code>__init__(self, url)</code><a class="hash-link" href="#__init__self-url" title="Direct link to heading">​</a></h3><p>Parameters:</p><ul><li><code>url</code>: <em>str</em> - The URL where to connect to the Orchestrator.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="class-cogmentservedendpoint">class cogment.ServedEndpoint<a class="hash-link" href="#class-cogmentservedendpoint" title="Direct link to heading">​</a></h2><p>Class enclosing the details for connection from an Orchestrator.</p><p><code>port</code>: <em>str</em> - The TCP/IP port where the service will be awaiting the Orchestrator connection.</p><p><code>private_key_certificate_chain_pairs</code>: <em>list<!-- -->[tupple(str, str)]</em> - To use TLS for incoming connections, this must be set to a list of tuples of the form (PEM-encoded private key, PEM-encoded certificate chain).</p><p><code>root_certificates</code>: <em>str</em> - If using TLS for the connection (i.e. <code>private_key_certificate_chain_pairs</code> is not <code>None</code>), this should be set to PEM-encoded Orchestrator root certificates that the server will use to verify Orchestrator authentication.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="__init__self-port"><code>__init__(self, port)</code><a class="hash-link" href="#__init__self-port" title="Direct link to heading">​</a></h3><p>Parameters:</p><ul><li><code>port</code>: <em>int</em> - The TCP/IP port where the service will be awaiting the Orchestrator connection.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="class-cogmenttrialstateenumenum">class cogment.TrialState(enum.Enum)<a class="hash-link" href="#class-cogmenttrialstateenumenum" title="Direct link to heading">​</a></h2><p>Enum representing the various states of trials.</p><ul><li>UNKNOWN: Should not be used.</li><li>INITIALIZING: The trial is in the process of starting.</li><li>PENDING: The trial is waiting for its final parameters, before running.</li><li>RUNNING: The trial is running.</li><li>TERMINATING: The trial is in the process of terminating (either a request to terminate has been received or the last observation has been received).</li><li>ENDED: The trial has ended. Only a set number of ended trials will be kept (configured in the Orchestrator).</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="class-trialinfo">class TrialInfo<a class="hash-link" href="#class-trialinfo" title="Direct link to heading">​</a></h2><p>Class enclosing the details of a trial.</p><p><code>trial_id</code>: <em>str</em> - The trial ID to which the details pertain.</p><p><code>state</code>: <em>cogment.TrialState</em> - The current state of the trial.</p><p><code>env_name</code>: <em>str</em> - The name of the environment running the trial.</p><p><code>tick_id</code>: <em>int</em> - The time step that the information relates to. Only provided from a call to <code>get_trial_info</code>.</p><p><code>duration</code>: <em>int</em> - The time (in nanoseconds) that the trial has run. Only provided from a call to <code>get_trial_info</code>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="class-actorinfo">class ActorInfo<a class="hash-link" href="#class-actorinfo" title="Direct link to heading">​</a></h2><p>Class enclosing the details of an actor.</p><p><code>actor_name</code>: <em>str</em> - The name of the actor.</p><p><code>actor_class_name</code>: <em>str</em> - The name of the actor&#x27;s class (as defined in the spec file).</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="class-recvevent">class RecvEvent<a class="hash-link" href="#class-recvevent" title="Direct link to heading">​</a></h2><p>Class representing a received event (for environments and actors). It can contain any combination of data according to the receiver needs, or even be empty, but it will always have a type.</p><p><code>type</code>: <em>Enum EventType</em> - Type of event the enclosed data represents.</p><p><code>observation</code>: <em>RecvObservation instance</em> - Observation data. This can only be received by actors. <code>None</code> if not present.</p><p><code>actions</code>: <em>list<!-- -->[RecvAction instance]</em> - Action data from actors. This can only be received by the environment. The list is empty if not present.</p><p><code>rewards</code>: <em>list<!-- -->[RecvReward instance]</em> - Reward values and data. This can only be received by actors. The list is empty if not present.</p><p><code>messages</code>: <!-- -->*<!-- -->list<!-- -->[RecvMessage instance]<!-- --> - Message data. The list is empty if not present.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="class-cogmenteventtypeenumenum">class cogment.EventType(enum.Enum)<a class="hash-link" href="#class-cogmenteventtypeenumenum" title="Direct link to heading">​</a></h3><p>Enum representing the type of an event.</p><ul><li><p><code>EventType.NONE</code>: Empty event. This kind of event should never be received.</p></li><li><p><code>EventType.ACTIVE</code>: Normal event from an active trial. Most events will be of this type.</p></li><li><p><code>EventType.ENDING</code>: Events from a trial in the process of ending. For the environment, this means that these events contain the last actions from the actors, and the trial is awaiting a final observation. For the actors, this means that the trial is ending and no action can/need to be sent in response. Note that because of network timing, there may be <code>ACTIVE</code> events (e.g. rewards or messages) arriving after some <code>ENDING</code> events, but the trial is ending regardless.</p></li><li><p><code>EventType.FINAL</code>: Final event for the trial. This does not contain data. The event loop will exit after this event is delivered. This event can be ignored if nothing needs to be done before exiting the loop.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="class-recvobservation">class RecvObservation<a class="hash-link" href="#class-recvobservation" title="Direct link to heading">​</a></h2><p>Class containing the details of an observation for an actor.</p><p><code>tick_id</code>: <em>int</em> - The time step that the observation relates to.</p><p><code>timestamp</code>: <em>int</em> - Unix style Epoch timestamp in nanoseconds (time since 00:00:00 UTC Jan 1, 1970).</p><p><code>observation</code>: <em>protobuf class instance</em> - Observation received from the environment. The class of the observation is defined as observation space for the actor class. This is specified in section <code>actor_classes:observation:space</code> in the spec file for the appropriate/receiving actor class.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="class-recvaction">class RecvAction<a class="hash-link" href="#class-recvaction" title="Direct link to heading">​</a></h2><p>Class containing the details of an action from an actor.</p><p><code>tick_id</code>: <em>int</em> - The time step that the action relates to.</p><p><code>timestamp</code>: <em>int</em> - Unix style Epoch timestamp in nanoseconds (time since 00:00:00 UTC Jan 1, 1970).</p><p><code>actor_index</code>: <em>int</em> - Index of the actor in the list of all trial actors (returned by <code>Session.get_active_actors</code>).</p><p><code>action</code>: <em>protobuf class instance</em> - Action from the actor which has index <code>actor_index</code> in the trial. The class of the action is defined as action space for the specific actor in the section <code>actor_classes:action:space</code> in the spec file.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="class-recvmessage">class RecvMessage<a class="hash-link" href="#class-recvmessage" title="Direct link to heading">​</a></h2><p>Class containing a message.</p><p><code>tick_id</code>: <em>int</em> - The time step that the message relates to.</p><p><code>receiver_name</code>: <em>str</em> - Name of the receiver for the message (the name of an actor, or wildcard string).</p><p><code>sender_name</code>: <em>str</em> - Name of the sender of the message (the name of an actor, or the environment).</p><p><code>payload</code>: <em>google.protobuf.Any instance</em> - Data for a received message. The class enclosed in <code>google.protobuf.Any</code> is of the type set by the sender; It is the responsibility of the receiver to manage the data received (i.e. determine the type and unpack the data).</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="class-recvreward">class RecvReward<a class="hash-link" href="#class-recvreward" title="Direct link to heading">​</a></h2><p>Class containing the details of a received reward.</p><p><code>tick_id</code>: <em>int</em> - The tick id (time step) for which the reward should be applied.</p><p><code>receiver_name</code>: <em>str</em> - Name of the receiver for the reward (the name of an actor, or wildcard string).</p><p><code>value</code>: <em>float</em> - Value of the reward (aggregated from the sources)</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="get_nb_sourcesself"><code>get_nb_sources(self)</code><a class="hash-link" href="#get_nb_sourcesself" title="Direct link to heading">​</a></h3><p>Return the number of source rewards this reward is based upon.</p><p>Parameters: None</p><p>Return: <em>int</em> - Number of sources.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="all_sourcesself"><code>all_sources(self)</code><a class="hash-link" href="#all_sourcesself" title="Direct link to heading">​</a></h3><p>Generator method to iterate over all sources making up this reward.</p><p>Parameters: None</p><p>Return: <em>generator(RecvRewardSource instance)</em> - A generator for the sources in the reward (simple rewards that make up this final/aggregate reward).</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="class-recvrewardsource">class RecvRewardSource<a class="hash-link" href="#class-recvrewardsource" title="Direct link to heading">​</a></h2><p>Class containing the details of a received single source reward.</p><p><code>value</code>: <em>float</em> - Value of the reward from the sender.</p><p><code>confidence</code>: <em>float</em> - Confidence level of this reward value.</p><p><code>sender_name</code>: <em>str</em> - Name of the sender of this reward (the name of an actor, or the environment).</p><p><code>user_data</code>: <em>google.protobuf.Any instance</em> - Data for a user-specific reward format. Can be <code>None</code> if no specific data was provided. The class enclosed in <code>google.protobuf.Any</code> is of the type set by the sender; it is the responsibility of the receiver to manage the data received (i.e. determine the type and unpack the data).</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="class-cogmentlogparams">class cogment.LogParams<a class="hash-link" href="#class-cogmentlogparams" title="Direct link to heading">​</a></h2><p>Class containing the paramaters of the trial.</p><p><code>max_steps</code>: <em>int</em> - The maximum number of steps/ticks that the trial should run. After this number of steps/ticks, an end request will be sent to the environment.</p><p><code>max_inactivity</code>: <em>int</em> - The maximum amount of time (in seconds) that the trial should be without activity before it is forcefully terminated. &quot;Activity&quot; is defined as a message received by the Orchestrator from a user component.</p><p><code>nb_actors</code>: <em>int</em> - The number of actors participating in the trial.</p><p><code>datalog</code>: <em>dict</em> - The datalog related parameters. The dictionary contains these key-value pairs:</p><ul><li><code>&quot;endpoint&quot;</code>: <em>str</em> - The URL to connect to the datalog service.</li><li><code>&quot;exclude&quot;</code>: <em>list(str)</em> - Fields to exclude from the samples sent to the datalog service.</li></ul><p><code>environment</code>: <em>dict</em> - The environment related parameters. The dictionary contains these key-value pairs:</p><ul><li><code>&quot;name&quot;</code>: <em>str</em> - Name of the environment</li><li><code>&quot;endpoint&quot;</code>: <em>str</em> - The URL to connect to the environment.</li><li><code>&quot;implementation&quot;</code>: <em>str</em> - The name of the implementation to run the environment</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="__init__self-cog_settings"><code>__init__(self, cog_settings)</code><a class="hash-link" href="#__init__self-cog_settings" title="Direct link to heading">​</a></h3><p>Parameter:</p><ul><li><code>cog_settings</code>: <em>module</em> - Settings module associated with trials that will be run (<a href="#cog_settings.py">cog_settings</a> namespace).</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="get_serialization_typeself"><code>get_serialization_type(self)</code><a class="hash-link" href="#get_serialization_typeself" title="Direct link to heading">​</a></h3><p>Return the type of serial data produced by <code>serialize</code> and accepted by <code>deserialize</code>. The type represents an ID dependent on <a href="/docs/cogment/cogment-low-level-api-guide/grpc#trialparams">TrialParams</a> defined in the low level gRPC API.</p><p>Parameters: None</p><p>Return: <em>int</em> - The type of the serialization string data. This is the type of string that is returned by <code>serialize</code>, and the only type accepted by <code>deserialize</code>; it is undefined behavior to try to deserialize the wrong type of data. This value is strictly larger than 1.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="serializeself"><code>serialize(self)</code><a class="hash-link" href="#serializeself" title="Direct link to heading">​</a></h3><p>Return a binary string equivalent of the parameters.</p><p>Parameters: None</p><p>Return: <em>str</em> - Serialized parameters.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="deserializeself-raw_string"><code>deserialize(self, raw_string)</code><a class="hash-link" href="#deserializeself-raw_string" title="Direct link to heading">​</a></h3><p>Takes a serialized parameter string and sets the LogParams instance.</p><p>Parameter:</p><ul><li><code>raw_string</code>: <em>str</em> - Binary string representing a serialized LogParam of the same type.</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="get_trial_configself"><code>get_trial_config(self)</code><a class="hash-link" href="#get_trial_configself" title="Direct link to heading">​</a></h3><p>Returns the trial config.</p><p>Parameters: None</p><p>Return: <em>protobuf class instance</em> - Configuration for the trial. The type is specified in the spec file under the section <code>trial:config_type</code>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="get_environment_configself"><code>get_environment_config(self)</code><a class="hash-link" href="#get_environment_configself" title="Direct link to heading">​</a></h3><p>Returns the environment config.</p><p>Parameters: None</p><p>Return: <em>protobuf class instance</em> - Configuration for the environment. The type is specified in the spec file under the section <code>environment:config_type</code>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="get_actor_indexself-actor_name"><code>get_actor_index(self, actor_name)</code><a class="hash-link" href="#get_actor_indexself-actor_name" title="Direct link to heading">​</a></h3><p>Returns the index of the given actor, or None if the actor is not in the trial.</p><p>Parameters:</p><ul><li><code>actor_name</code>: <em>str</em> - Name of the actor to look for in the trial parameters.</li></ul><p>Return: <em>int</em> - Index of actor if found. <code>None</code> if not found. This index is constant in the trial and relates to the complete list of actors provided by cogment (e.g. <code>Controller.get_actors()</code>).</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="get_actor_nameself-actor_index"><code>get_actor_name(self, actor_index)</code><a class="hash-link" href="#get_actor_nameself-actor_index" title="Direct link to heading">​</a></h3><p>Returns the name of an actor in the trial.</p><p>Parameters:</p><ul><li><code>actor_index</code>: <em>int</em> - Index of the actor to retrieve. This number is constant in the trial and relates to the complete list of actors provided by cogment (e.g. <code>Controller.get_actors()</code>). The value must be between 0 and <code>self.nb_actors</code> (exclusively).</li></ul><p>Return: <em>str</em> - Name of the actor in the trial parameters.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="get_actorself-actor_index"><code>get_actor(self, actor_index)</code><a class="hash-link" href="#get_actorself-actor_index" title="Direct link to heading">​</a></h3><p>Returns information about a particular actor in the trial.</p><p>Parameters:</p><ul><li><code>actor_index</code>: <em>int</em> - Index of the actor to retrieve. This number is constant in the trial and relates to the complete list of actors provided by cogment (e.g. <code>Controller.get_actors()</code>). The value must be between 0 and <code>self.nb_actors</code> (exclusively).</li></ul><p>Return: <em>dict</em> - Dictionary containing the details of the actor parameters. The dictionary contains these key-value pairs:</p><ul><li><code>&quot;name&quot;</code>: <em>str</em> - Name of the actor.</li><li><code>&quot;actor_class&quot;</code>: <em>str</em> - The actor class for the actor. This is specific to a type of trial and must match values in the spec file under section <code>actor_classes:name</code>.</li><li><code>&quot;endpoint&quot;</code>: <em>str</em> - The URL to connect to the service actor, or &quot;cogment://client&quot; for client actors that will connect in.</li><li><code>&quot;implementation&quot;</code>: <em>str</em> - The name of the implementation to run the actor.</li><li><code>&quot;config&quot;</code>: <em>protobuf class instance</em> - The configuration data for the actor. The type is specified in the spec file under the section <code>actor_classes:config_type</code> for the specific actor class of the actor.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="class-cogmentlogsample">class cogment.LogSample<a class="hash-link" href="#class-cogmentlogsample" title="Direct link to heading">​</a></h2><p>Class containing a datalog sample.
A sample starts and ends with the arrival of new observations from the environment. The last sample will end after all components have acknowledged the end of the trial (the state of that sample will then be <code>TrialState.ENDED</code>).</p><p>Note that some of the data may not be available (<code>None</code>) if it was excluded from the sample (see datalog parameters <code>LogParams.datalog[&quot;exclude&quot;]</code>).</p><p><code>tick_id</code>: <em>int</em> - The time step that the sample data relates to.</p><p><code>state</code>: <em>cogment.TrialState</em> - The state of the trial at the end of the sample period.</p><p><code>timestamp</code>: <em>int</em> - Unix style Epoch timestamp in nanoseconds (time since 00:00:00 UTC Jan 1, 1970) at the beginning of the sample period.</p><p><code>events</code>: <em>str</em> - Description of special events that happened during the timeframe of the sample.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="__init__self-params"><code>__init__(self, params)</code><a class="hash-link" href="#__init__self-params" title="Direct link to heading">​</a></h3><p>Parameter:</p><ul><li><code>params</code>: <em>LogParams instance</em> - The parameters of the trial.</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="get_serialization_typeself-1"><code>get_serialization_type(self)</code><a class="hash-link" href="#get_serialization_typeself-1" title="Direct link to heading">​</a></h3><p>Returns the type of serial data produced by <code>serialize</code> and accepted by <code>deserialize</code>. The type represents an ID dependent on <a href="/docs/cogment/cogment-low-level-api-guide/grpc#logexportersamplerequest">DatalogSample</a> defined in the low level gRPC API.</p><p>Parameters: None</p><p>Return: <em>int</em> - The type of the serialization string data. This is the type of string that is returned by <code>serialize</code>, and the only type accepted by <code>deserialize</code>; it is undefined behavior to try to deserialize the wrong type of data. This value is strictly larger than 1.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="serializeself-1"><code>serialize(self)</code><a class="hash-link" href="#serializeself-1" title="Direct link to heading">​</a></h3><p>Returns a binary string equivalent of the sample.</p><p>Parameters: None</p><p>Return: <em>str</em> - Serialized sample.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="deserializeself-raw_string-1"><code>deserialize(self, raw_string)</code><a class="hash-link" href="#deserializeself-raw_string-1" title="Direct link to heading">​</a></h3><p>Takes a serialized sample string and sets the LogSample instance.</p><p>Parameter:</p><ul><li><code>raw_string</code>: <em>str</em> - Binary string representing a serialized LogSample of the same type.</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="all_actor_namesself"><code>all_actor_names(self)</code><a class="hash-link" href="#all_actor_namesself" title="Direct link to heading">​</a></h3><p>Generator method to iterate over all actors in the trial. This information can also be retrieved from the parameters of the trial.</p><p>Parameters: None</p><p>Return: <em>generator(str)</em> - A generator for the names of the actors in the trial.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="get_actionself-actor"><code>get_action(self, actor)</code><a class="hash-link" href="#get_actionself-actor" title="Direct link to heading">​</a></h3><p>Retrieves the action from the actor in the sample.</p><p>Parameters:</p><ul><li><code>actor</code>: <em>str</em> or <em>int</em> - The name or index of the actor for which to retrieve the action. The number, index and name of actors can be retrieved from the parameters of the trial.</li></ul><p>Return: <em>RecvAction instance</em> - The action of the actor in the sample.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="get_observationself-actor"><code>get_observation(self, actor)</code><a class="hash-link" href="#get_observationself-actor" title="Direct link to heading">​</a></h3><p>Retrieve the observation destined for the actor in the sample.</p><p>Parameters:</p><ul><li><code>actor</code>: <em>str</em> or <em>int</em> - The name or index of the actor for which to retrieve the observation. The number, index and name of actors can be retrieved from the parameters of the trial.</li></ul><p>Return: <em>RecvObservation instance</em> - The observation of the actor in the sample.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="all_rewardsself"><code>all_rewards(self)</code><a class="hash-link" href="#all_rewardsself" title="Direct link to heading">​</a></h3><p>Generator method to iterate over all the rewards in the sample.</p><p>Parameters: None</p><p>Return: <em>generator(RecvReward instance)</em> - A generator for the rewards in the sample.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="all_messagesself"><code>all_messages(self)</code><a class="hash-link" href="#all_messagesself" title="Direct link to heading">​</a></h3><p>Generator method to iterate over all the messages in the sample.</p><p>Parameters: None</p><p>Return: <em>generator(RecvMessage instance)</em> - A generator for the messages in the sample.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_foO9"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-02-24T16:28:59.000Z">2/24/2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/cogment/cogment-api-reference/parameters"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Trial Parameters</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/cogment/cogment-low-level-api-guide/grpc"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Cogment gRPC API v2</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#installation" class="table-of-contents__link toc-highlight">Installation</a></li><li><a href="#general-usage" class="table-of-contents__link toc-highlight">General usage</a><ul><li><a href="#trial-specifications" class="table-of-contents__link toc-highlight">Trial Specifications</a></li><li><a href="#trial-parameters" class="table-of-contents__link toc-highlight">Trial Parameters</a></li><li><a href="#compiling-the-spec-file-into-cog_settingspy" class="table-of-contents__link toc-highlight">Compiling the spec file into cog_settings.py</a></li><li><a href="#top-level-import" class="table-of-contents__link toc-highlight">Top-level import</a></li></ul></li><li><a href="#class-cogmentcontext" class="table-of-contents__link toc-highlight">class cogment.Context</a><ul><li><a href="#__init__self-user_id-cog_settings-prometheus_registryprometheus_clientcoreregistry" class="table-of-contents__link toc-highlight"><code>__init__(self, user_id, cog_settings, prometheus_registry=prometheus_client.core.REGISTRY)</code></a></li><li><a href="#async-serve_all_registeredself-served_endpoint-prometheus_port--8000" class="table-of-contents__link toc-highlight"><code>async serve_all_registered(self, served_endpoint, prometheus_port = 8000)</code></a></li><li><a href="#get_controllerself-endpoint" class="table-of-contents__link toc-highlight"><code>get_controller(self, endpoint)</code></a></li><li><a href="#async-join_trialself-trial_id-endpoint-impl_namenone-actor_namenone-actor_classnone" class="table-of-contents__link toc-highlight"><code>async join_trial(self, trial_id, endpoint, impl_name=None, actor_name=None, actor_class=None)</code></a></li><li><a href="#register_environmentself-impl-impl_name--default" class="table-of-contents__link toc-highlight"><code>register_environment(self, impl, impl_name = &quot;default&quot;)</code></a></li><li><a href="#register_actorself-impl-impl_name-actor_classes" class="table-of-contents__link toc-highlight"><code>register_actor(self, impl, impl_name, actor_classes=[])</code></a></li><li><a href="#register_pre_trial_hookself-impl" class="table-of-contents__link toc-highlight"><code>register_pre_trial_hook(self, impl)</code></a></li><li><a href="#register_datalogself-impl" class="table-of-contents__link toc-highlight"><code>register_datalog(self, impl)</code></a></li></ul></li><li><a href="#class-controller" class="table-of-contents__link toc-highlight">class Controller</a><ul><li><a href="#async-start_trialself-trial_confignone-trial_id_requestednone" class="table-of-contents__link toc-highlight"><code>async start_trial(self, trial_config=None, trial_id_requested=None)</code></a></li><li><a href="#terminate_trialself-trial_ids-hardfalse" class="table-of-contents__link toc-highlight"><code>terminate_trial(self, trial_ids, hard=False)</code></a></li><li><a href="#async-get_trial_infoself-trial_ids" class="table-of-contents__link toc-highlight"><code>async get_trial_info(self, trial_ids)</code></a></li><li><a href="#async-watch_trialsself-trial_state_filters" class="table-of-contents__link toc-highlight"><code>async watch_trials(self, trial_state_filters=[])</code></a></li><li><a href="#async-get_actorsself-trial_id" class="table-of-contents__link toc-highlight"><code>async get_actors(self, trial_id)</code></a></li><li><a href="#async-get_remote_versionsself" class="table-of-contents__link toc-highlight"><code>async get_remote_versions(self)</code></a></li></ul></li><li><a href="#class-session" class="table-of-contents__link toc-highlight">class Session</a><ul><li><a href="#get_trial_idself" class="table-of-contents__link toc-highlight"><code>get_trial_id(self)</code></a></li><li><a href="#get_tick_idself" class="table-of-contents__link toc-highlight"><code>get_tick_id(self)</code></a></li><li><a href="#is_trial_overself" class="table-of-contents__link toc-highlight"><code>is_trial_over(self)</code></a></li><li><a href="#sending_doneself" class="table-of-contents__link toc-highlight"><code>sending_done(self)</code></a></li><li><a href="#add_rewardself-value-confidence-to-tick_id-1-user_datanone" class="table-of-contents__link toc-highlight"><code>add_reward(self, value, confidence, to, tick_id=-1, user_data=None)</code></a></li></ul></li><li><a href="#class-environmentsessionsession" class="table-of-contents__link toc-highlight">class EnvironmentSession(Session)</a><ul><li><a href="#startself-observations--none-auto_done_sendingtrue" class="table-of-contents__link toc-highlight"><code>start(self, observations = None, auto_done_sending=True)</code></a></li><li><a href="#async-event_loopself" class="table-of-contents__link toc-highlight"><code>async event_loop(self)</code></a></li><li><a href="#produce_observationsself-observations" class="table-of-contents__link toc-highlight"><code>produce_observations(self, observations)</code></a></li><li><a href="#endself-final_observations" class="table-of-contents__link toc-highlight"><code>end(self, final_observations)</code></a></li><li><a href="#get_active_actorsself" class="table-of-contents__link toc-highlight"><code>get_active_actors(self)</code></a></li><li><a href="#send_messageself-payload-to" class="table-of-contents__link toc-highlight"><code>send_message(self, payload, to)</code></a></li></ul></li><li><a href="#class-actorsessionsession" class="table-of-contents__link toc-highlight">class ActorSession(Session)</a><ul><li><a href="#startself-auto_done_sendingtrue" class="table-of-contents__link toc-highlight"><code>start(self, auto_done_sending=True)</code></a></li><li><a href="#async-event_loopself-1" class="table-of-contents__link toc-highlight"><code>async event_loop(self)</code></a></li><li><a href="#do_actionself-action" class="table-of-contents__link toc-highlight"><code>do_action(self, action)</code></a></li><li><a href="#send_messageself-payload-to-1" class="table-of-contents__link toc-highlight"><code>send_message(self, payload, to)</code></a></li></ul></li><li><a href="#class-prehooksession" class="table-of-contents__link toc-highlight">class PrehookSession</a><ul><li><a href="#get_trial_idself-1" class="table-of-contents__link toc-highlight"><code>get_trial_id(self)</code></a></li><li><a href="#get_user_idself" class="table-of-contents__link toc-highlight"><code>get_user_id(self)</code></a></li><li><a href="#validateself" class="table-of-contents__link toc-highlight"><code>validate(self)</code></a></li></ul></li><li><a href="#class-datalogsession" class="table-of-contents__link toc-highlight">class DatalogSession</a><ul><li><a href="#startself" class="table-of-contents__link toc-highlight"><code>start(self)</code></a></li><li><a href="#get_all_samplesself" class="table-of-contents__link toc-highlight"><code>get_all_samples(self)</code></a></li></ul></li><li><a href="#class-cogmentendpoint" class="table-of-contents__link toc-highlight">class cogment.Endpoint</a><ul><li><a href="#__init__self-url" class="table-of-contents__link toc-highlight"><code>__init__(self, url)</code></a></li></ul></li><li><a href="#class-cogmentservedendpoint" class="table-of-contents__link toc-highlight">class cogment.ServedEndpoint</a><ul><li><a href="#__init__self-port" class="table-of-contents__link toc-highlight"><code>__init__(self, port)</code></a></li></ul></li><li><a href="#class-cogmenttrialstateenumenum" class="table-of-contents__link toc-highlight">class cogment.TrialState(enum.Enum)</a></li><li><a href="#class-trialinfo" class="table-of-contents__link toc-highlight">class TrialInfo</a></li><li><a href="#class-actorinfo" class="table-of-contents__link toc-highlight">class ActorInfo</a></li><li><a href="#class-recvevent" class="table-of-contents__link toc-highlight">class RecvEvent</a><ul><li><a href="#class-cogmenteventtypeenumenum" class="table-of-contents__link toc-highlight">class cogment.EventType(enum.Enum)</a></li></ul></li><li><a href="#class-recvobservation" class="table-of-contents__link toc-highlight">class RecvObservation</a></li><li><a href="#class-recvaction" class="table-of-contents__link toc-highlight">class RecvAction</a></li><li><a href="#class-recvmessage" class="table-of-contents__link toc-highlight">class RecvMessage</a></li><li><a href="#class-recvreward" class="table-of-contents__link toc-highlight">class RecvReward</a><ul><li><a href="#get_nb_sourcesself" class="table-of-contents__link toc-highlight"><code>get_nb_sources(self)</code></a></li><li><a href="#all_sourcesself" class="table-of-contents__link toc-highlight"><code>all_sources(self)</code></a></li></ul></li><li><a href="#class-recvrewardsource" class="table-of-contents__link toc-highlight">class RecvRewardSource</a></li><li><a href="#class-cogmentlogparams" class="table-of-contents__link toc-highlight">class cogment.LogParams</a><ul><li><a href="#__init__self-cog_settings" class="table-of-contents__link toc-highlight"><code>__init__(self, cog_settings)</code></a></li><li><a href="#get_serialization_typeself" class="table-of-contents__link toc-highlight"><code>get_serialization_type(self)</code></a></li><li><a href="#serializeself" class="table-of-contents__link toc-highlight"><code>serialize(self)</code></a></li><li><a href="#deserializeself-raw_string" class="table-of-contents__link toc-highlight"><code>deserialize(self, raw_string)</code></a></li><li><a href="#get_trial_configself" class="table-of-contents__link toc-highlight"><code>get_trial_config(self)</code></a></li><li><a href="#get_environment_configself" class="table-of-contents__link toc-highlight"><code>get_environment_config(self)</code></a></li><li><a href="#get_actor_indexself-actor_name" class="table-of-contents__link toc-highlight"><code>get_actor_index(self, actor_name)</code></a></li><li><a href="#get_actor_nameself-actor_index" class="table-of-contents__link toc-highlight"><code>get_actor_name(self, actor_index)</code></a></li><li><a href="#get_actorself-actor_index" class="table-of-contents__link toc-highlight"><code>get_actor(self, actor_index)</code></a></li></ul></li><li><a href="#class-cogmentlogsample" class="table-of-contents__link toc-highlight">class cogment.LogSample</a><ul><li><a href="#__init__self-params" class="table-of-contents__link toc-highlight"><code>__init__(self, params)</code></a></li><li><a href="#get_serialization_typeself-1" class="table-of-contents__link toc-highlight"><code>get_serialization_type(self)</code></a></li><li><a href="#serializeself-1" class="table-of-contents__link toc-highlight"><code>serialize(self)</code></a></li><li><a href="#deserializeself-raw_string-1" class="table-of-contents__link toc-highlight"><code>deserialize(self, raw_string)</code></a></li><li><a href="#all_actor_namesself" class="table-of-contents__link toc-highlight"><code>all_actor_names(self)</code></a></li><li><a href="#get_actionself-actor" class="table-of-contents__link toc-highlight"><code>get_action(self, actor)</code></a></li><li><a href="#get_observationself-actor" class="table-of-contents__link toc-highlight"><code>get_observation(self, actor)</code></a></li><li><a href="#all_rewardsself" class="table-of-contents__link toc-highlight"><code>all_rewards(self)</code></a></li><li><a href="#all_messagesself" class="table-of-contents__link toc-highlight"><code>all_messages(self)</code></a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction/overview">Overview</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cogment/cogment-api-guide">API guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cogment/cogment-api-reference/python">Python SDK reference</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cogment/cogment-api-reference/javascript">Javascript SDK reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/cogment" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discord.com/invite/QDxb9Fweqr" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/AI_Redefined" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/ai-r" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.facebook.com/AIRedefined/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">AI Redefined</div><ul class="footer__items"><li class="footer__item"><a href="https://ai-r.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Homepage<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://ai-r.com/solutions/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Solutions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://ai-r.com/about-air/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>About AIR<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://ai-r.com/news/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>News<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://ai-r.com/contact/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Contact<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 AI Redefined Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.22079133.js"></script>
<script src="/assets/js/main.b8fbe67c.js"></script>
</body>
</html>