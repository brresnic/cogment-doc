<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-146998765-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">Cogment 2.0 | Cogment</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://cogment.ai/img/cogment_logo_meta.png"><meta data-react-helmet="true" name="twitter:image" content="https://cogment.ai/img/cogment_logo_meta.png"><meta data-react-helmet="true" property="og:url" content="https://cogment.ai/docs/cogment/cogment-api-reference/cogment-v2-changes"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Cogment 2.0 | Cogment"><meta data-react-helmet="true" name="description" content="This document describes the full list of the changes for Cogment 2.O. A migration guide is available there."><meta data-react-helmet="true" property="og:description" content="This document describes the full list of the changes for Cogment 2.O. A migration guide is available there."><link data-react-helmet="true" rel="icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://cogment.ai/docs/cogment/cogment-api-reference/cogment-v2-changes"><link data-react-helmet="true" rel="alternate" href="https://cogment.ai/docs/cogment/cogment-api-reference/cogment-v2-changes" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://cogment.ai/docs/cogment/cogment-api-reference/cogment-v2-changes" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.ac6ee8e1.css">
<link rel="preload" href="/assets/js/runtime~main.e87772ed.js" as="script">
<link rel="preload" href="/assets/js/main.59de36f8.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/cogment_logo.svg" alt="Cogment" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/cogment_logo.svg" alt="Cogment" class="themedImage_W2Cr themedImage--dark_oUvU"></div></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link navbar__link--active" href="/docs">Documentation</a><a href="https://github.com/cogment" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/community-channels">Community</a><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/community-channels">Community</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/concepts/core-concepts">Concepts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/core-concepts">Core Concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/glossary">Glossary</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/docs/cogment/cogment-api-guide">Cogment API</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cogment/cogment-api-guide">API Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" tabindex="0" href="/docs/cogment/tutorial">Tutorial</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorial&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" tabindex="0" href="/docs/cogment/cogment-api-reference/cogment-v2-changes">API Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/cogment/cogment-api-reference/cogment-v2-changes">Cogment 2.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cogment/cogment-api-reference/cogment-yaml">Spec File</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cogment/cogment-api-reference/javascript">Javascript SDK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cogment/cogment-api-reference/parameters">Trial Parameters</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cogment/cogment-api-reference/python">Python SDK</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/docs/cogment/cogment-low-level-api-guide/grpc">Low Level API Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" tabindex="0" href="/docs/cogment/implementation-recipes">Implementation Recipes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Implementation Recipes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/cogment-components/cli">Cogment Components</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cogment-components/cli">CLI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cogment-components/orchestrator">Orchestrator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cogment-components/model-registry">Model Registry</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cogment-components/trial-datastore">Trial Datastore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cogment-components/dashboard">Metrics and Dashboard</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/license">Apache License</a></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Cogment 2.0</h1><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>This document describes the full list of the changes for Cogment 2.O. A migration guide is available <a href="/docs/cogment/implementation-recipes/v2-migration-guide">there</a>.</p></div></div><p>Cogment 2.0 is a massive internal change to Cogment, starting with the underlying gRPC API that has seen a major refactoring. But there is a minimal amount of changes that affect the use of cogment. The changes that affect users are in three categories: breaking changes, deprecated behavior and new functionalities.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="breaking-changes">Breaking changes<a class="hash-link" href="#breaking-changes" title="Direct link to heading">​</a></h2><p>These are changes that, if the related features were used, will prevent Cogment v1 projects from working with Cogment v2. They represent the minimum changes necessary to upgrade to v2.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="cogmentyaml">Cogment.yaml<a class="hash-link" href="#cogmentyaml" title="Direct link to heading">​</a></h3><ul><li>Delta types of observations (and all related settings) are not supported anymore. This means that in cogment.yaml, these sections are now ignored:<ul><li><code>import::python</code></li><li><code>import::javascript</code></li><li><code>actor_classes::observation::delta</code></li><li><code>actor_classes::observation::delta_apply_fn</code></li></ul></li><li><code>config</code> (for trial, environment and actor) are not accepted in the parameters section anymore.</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="python-sdk">Python SDK<a class="hash-link" href="#python-sdk" title="Direct link to heading">​</a></h3><ul><li>The <code>Session.get_active_actors()</code> method has been restricted to the environment only. This means that actors cannot call this method anymore (it will raise an exception). If actors need the full list of actors, there are a few possibilities:<ul><li>Create a controller in the actor implementation and use the <code>Controller.get_actors()</code> method.</li><li>Receive the actor list in the config from the pre-trial hooks; the pre-trial hooks have implicit knowledge of all actors (at least the last hook).</li><li>Add the information in the actors observation space.</li><li>Send the information in a message.</li></ul></li><li>The <code>EnvironmentSession.send_message()</code> method will not accept a <code>to_environment</code> parameter anymore (since it does not make sense anyway).</li><li>The <code>Controller.terminate_trial()</code> method parameter <code>trial_id</code> has been renamed <code>trial_ids</code>.</li><li>The <code>Controller.get_trial_info()</code> method parameter <code>trial_id</code> has been renamed <code>trial_ids</code>.</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="javascript-sdk">Javascript SDK<a class="hash-link" href="#javascript-sdk" title="Direct link to heading">​</a></h3><p>Except for the following, everything has been subject to breaking changes:</p><ul><li>The shape of the observation object has remained the same</li><li>You can keep the actor function that you have in your v1 project</li></ul><p>Please refer to the new <a href="/docs/cogment/cogment-api-reference/javascript">Javascript API Reference</a></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="datalog-sample">Datalog sample<a class="hash-link" href="#datalog-sample" title="Direct link to heading">​</a></h3><p>Since the Datalog samples, unlike everything else in the SDK, used the raw API protobuf, it has implicitly changed. But in v2, there is now a wrapper for it, which replaces direct access to the protobuf content.</p><p>If people still have serialized v1 data stored (e.g. in a database), v1 versions of the sample protobuf messages (<code>DatalogSample_v1</code>) are provided in the API for convenience, so users can deserialize the data into v1 samples and extract the information.</p><p>For more info, visit the <a href="/docs/cogment/cogment-low-level-api-guide/grpc#LogExporterSampleRequest">gRPC api</a> documentation</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="orchestrator">Orchestrator<a class="hash-link" href="#orchestrator" title="Direct link to heading">​</a></h3><ul><li>The environment variables read by the Orchestrator on start have changed names to help prevent clashes.<ul><li><code>TRIAL_LIFECYCLE_PORT</code> becomes <code>COGMENT_LIFECYCLE_PORT</code></li><li><code>TRIAL_ACTOR_PORT</code> becomes <code>COGMENT_ACTOR_PORT</code></li><li><code>PROMETHEUS_PORT</code> becomes <code>COGMENT_ORCHESTRATOR_PROMETHEUS_PORT</code></li></ul></li><li>The Orchestrator does not search for the file named <code>cogment.yaml</code> as the default spec file anymore. The spec file name must be explicit on the command line using <code>--config=cogment.yaml</code>.</li><li>For further information, refer to the <a href="/docs/cogment-components/orchestrator">Orchestrator documentation</a>.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="deprecated-behaviors">Deprecated Behaviors<a class="hash-link" href="#deprecated-behaviors" title="Direct link to heading">​</a></h2><p>These are changes that are optional to upgrade to Cogment v2, but will eventually be phased out and become breaking changes in a future version. If these features are used with Cogment v2, warnings will be issued.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="cogmentyaml-1">Cogment.yaml<a class="hash-link" href="#cogmentyaml-1" title="Direct link to heading">​</a></h3><p>The spec file is not used by the Orchestrator anymore, and when used by the other components, these sections of the file will be ignored:</p><ul><li>The <code>trial_params</code> section is not needed anymore (since the Orchestrator has its own parameters file)</li><li>The <code>datalog</code> section is deprecated (the details of the datalog have been moved to the Orchestrator parameters file)</li><li>The <code>trial:pre-hooks</code> section is deprecated (these values are now passed to the Orchestrator on the command line)</li></ul><p>For more information, visit the <a href="/docs/cogment/cogment-api-reference/cogment-yaml">Cogment.yaml documentation</a>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="orchestrator-1">Orchestrator<a class="hash-link" href="#orchestrator-1" title="Direct link to heading">​</a></h3><p>Providing a spec file (cogment.yaml) to the Orchestrator is deprecated. The new behavior is as follows:</p><ul><li>Provide a YAML default parameters file (command line option <code>--params</code>) with the top level section <code>trial_params</code>.</li><li>Add the datalog section to the parameters (if desired), without type (for type <code>none</code> just omit the datalog section). I.e. Whereas the spec file was defining a single data logger for all trials, the new Orchestrator can have a different data logger for each trial, and thus a datalog section is now found in the trial default parameters. Example of the new parameters datalog section:</li></ul><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">trial_params</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">datalog</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">endpoint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> grpc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//logger</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">9000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">exclude_fields</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">messages</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> actions</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li>The endpoint for a client actor in the parameters must now be <code>cogment://client</code> instead of just <code>client</code>. E.g.:</li></ul><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">trial_params</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">actors</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">endpoint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cogment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//client</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li>Pre-trial hooks are defined on the command line (or environment variable) as opposed to being found in the spec file.</li></ul><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>The Cogment Orchestrator and the generate tools ignore the sections of the YAML files that are not relevant to them, therefore the content of the spec and parameters files can be combined in a single file safely.</p></div></div><p>The Orchestrator needs a parameters file or pre-trial hooks (or both). Thus with pre-trial hooks and no parameters file (or a carefully defined parameters file) the Orchestrator is now independent of any trial specifications (spec file) and can run any type of trial. With a fully defined parameters file and no hooks, the Orchestrator can work as before for simple projects.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="python-sdk-1">Python SDK<a class="hash-link" href="#python-sdk-1" title="Direct link to heading">​</a></h3><ul><li>The <a href="/docs/cogment/cogment-api-reference/python#send_messageself-payload-to"><code>ActorSession.send_message()</code></a> method should not use the <code>to_environment</code> parameter anymore. The environment is targeted using its name (defaulted to &quot;env&quot; if not given specifically, or <code>ActorSession.env_name</code>).</li><li>The joining of a trial by a client actor (<a href="/docs/cogment/cogment-api-reference/python#async-join_trialself-trial_id-endpoint-impl_namenone-actor_namenone-actor_classnone"><code>Context.join_trial()</code></a>) should now be made by providing an actor name or class (unlike previously where an implementation name was provided). This is to allow the pre-trial hooks to decide on the details of the actor (including implementation) that should be used, the same way as for service actors.</li><li>In <a href="/docs/cogment/cogment-api-reference/python#class-recvobservation"><code>RecvObservation</code></a>, the <code>snapshot</code> attribute is deprecated. A new attribute <code>observation</code> takes its place.</li><li>The <a href="/docs/cogment/cogment-api-reference/python#terminate_trialself-trial_ids-hardfalse"><code>Controller.terminate_trial()</code></a> method parameter <code>trial_ids</code> now takes a list of IDs (instead of a single string for one ID).</li><li>The <a href="/docs/cogment/cogment-api-reference/python#async-get_trial_infoself-trial_ids"><code>Controller.get_trial_info()</code></a> method parameter <code>trial_ids</code> now takes a list of IDs (instead of a single string for one ID or <code>None</code>).</li><li>The <code>url</code> attribute of <a href="/docs/cogment/cogment-api-reference/python#class-cogmentendpoint"><code>cogment.Endpoint</code></a> must now be a gRPC type URL (i.e. start with <code>grpc://</code>). <code>Endpoint</code> is used to join a trial and to get a Controller.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="new-functionalities">New Functionalities<a class="hash-link" href="#new-functionalities" title="Direct link to heading">​</a></h2><p>These are changes that are additional and transparent to a v1 project.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="parameters">Parameters<a class="hash-link" href="#parameters" title="Direct link to heading">​</a></h3><p>These are the parameters defined in the new file given to the Orchestrator, and that can be changed by pre-trial hooks.</p><ul><li>The environment can be given a <code>name</code>, similarly to the actors. If not given, it defaults to &quot;env&quot;.</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="python-sdk-2">Python SDK<a class="hash-link" href="#python-sdk-2" title="Direct link to heading">​</a></h3><ul><li>When starting a trial (<a href="/docs/cogment/cogment-api-reference/python#async-start_trialself-trial_confignone-trial_id_requestednone"><code>Controller.start_trial()</code></a>), a new <code>trial_id_requested</code> parameter requests the trial ID to be a specific string instead of an automatic UUID. It is a &quot;request&quot; because the trial will not start if the id conflicts with another active trial; an empty ID string will be returned if the trial is not started.</li><li><a href="/docs/cogment/cogment-api-reference/python#terminate_trialself-trial_ids-hardfalse"><code>Controller.terminate_trial()</code></a> method has a new parameter <code>hard</code>. This parameter forces a hard/immediate termination of the trial. As opposed to a &quot;soft&quot; termination which will wait for the next tick to terminate nicely.</li><li>The <code>ActorSession</code> and <code>EnvironmentSession</code> have a new method <a href="/docs/cogment/cogment-api-reference/python#sending_doneself"><code>sending_done()</code></a> to indicate that they have finished sending data and will now only be listening until the end of the trial. This is required only if the new <code>auto_done_sending</code> parameter of the <code>start()</code> method is <code>False</code> (It is <code>True</code> by default for backward compatibility). This only needs to be manually done (i.e. <code>auto_done_sending=False</code>) in special situations.</li><li><a href="/docs/cogment/cogment-api-reference/python#get_user_idself"><code>PrehookSession.get_user_id()</code></a> new method.</li><li><a href="/docs/cogment/cogment-api-reference/python#class-prehooksession"><code>PrehookSession.environment_name</code></a> new attribute.</li><li><a href="/docs/cogment/cogment-api-reference/python#class-datalogsession"><code>DatalogSession.user_id</code></a> new attribute (this info used to be available in the protobuf <code>DatalogSample</code>).</li><li><a href="/docs/cogment/cogment-api-reference/python#class-recvaction"><code>RecvAction.tick_id</code></a> new attribute.</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_foO9"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-02-24T16:28:59.000Z">2/24/2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/cogment/tutorial/dqn-player"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Step 7: Add a player trained with Reinforcement Learning using DQN</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/cogment/cogment-api-reference/cogment-yaml"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Spec File</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#breaking-changes" class="table-of-contents__link toc-highlight">Breaking changes</a><ul><li><a href="#cogmentyaml" class="table-of-contents__link toc-highlight">Cogment.yaml</a></li><li><a href="#python-sdk" class="table-of-contents__link toc-highlight">Python SDK</a></li><li><a href="#javascript-sdk" class="table-of-contents__link toc-highlight">Javascript SDK</a></li><li><a href="#datalog-sample" class="table-of-contents__link toc-highlight">Datalog sample</a></li><li><a href="#orchestrator" class="table-of-contents__link toc-highlight">Orchestrator</a></li></ul></li><li><a href="#deprecated-behaviors" class="table-of-contents__link toc-highlight">Deprecated Behaviors</a><ul><li><a href="#cogmentyaml-1" class="table-of-contents__link toc-highlight">Cogment.yaml</a></li><li><a href="#orchestrator-1" class="table-of-contents__link toc-highlight">Orchestrator</a></li><li><a href="#python-sdk-1" class="table-of-contents__link toc-highlight">Python SDK</a></li></ul></li><li><a href="#new-functionalities" class="table-of-contents__link toc-highlight">New Functionalities</a><ul><li><a href="#parameters" class="table-of-contents__link toc-highlight">Parameters</a></li><li><a href="#python-sdk-2" class="table-of-contents__link toc-highlight">Python SDK</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs">Overview</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cogment/cogment-api-guide">API guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cogment/cogment-api-reference/python">Python SDK reference</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cogment/cogment-api-reference/javascript">Javascript SDK reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/cogment" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discord.com/invite/QDxb9Fweqr" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/AI_Redefined" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/ai-r" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.facebook.com/AIRedefined/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">AI Redefined</div><ul class="footer__items"><li class="footer__item"><a href="https://ai-r.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Homepage<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://ai-r.com/solutions/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Solutions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://ai-r.com/about-air/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>About AIR<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://ai-r.com/news/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>News<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://ai-r.com/contact/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Contact<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 AI Redefined Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.e87772ed.js"></script>
<script src="/assets/js/main.59de36f8.js"></script>
</body>
</html>